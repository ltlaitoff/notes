**Call stack**, або ж **Стек викликів** - в програмуванні це внутрішній [[Stack]] викликів функцій

Наприклад, у нас є код:

```js
function bar(a) {
	console.log(a)
}

function foo(a) {
	bar(a)
}

foo(1)
```

При його виконанні створюється **Call stack**

Перший його елементом є деякий контекст виклику - сама програма, яка виконується. Часто його опускають для простоти, але важливо розуміти, що він існує. Далі він буде називатись `main`

| Call stack |
| ---------- |
|            |
|            |
| main       |

Далі виконується функція `foo`, а функція `foo` викликає всередині себе функцію `bar`, а функція `bar` викликає `console.log`:

| start | foo  | bar  | log  |
| ----- | ---- | ---- | ---- |
|       |      |      | log  |
|       |      | bar  | bar  |
|       | foo  | foo  | foo  |
| main  | main | main | main |

Тобто, таким чином коли наша програма дійшла до виконання `console.log` в stack викликів знаходиться 4 елементи

Далі ці елементи починають видалятись зі списку, оскільки вони виконали свою функцію. Видалення відбувається зверху вниз, оскільки це стек

В момент коли в програмі більше немає активних викликів фукнцій - call stack очищується

### Навіщо потрібен call stack?

Головним призначенням Call stack є розуміння програми до якої підпрограми потрібно повернути управління після виконання поточної - з [Wikipedia](https://en.wikipedia.org/wiki/Call_stack)

Також на його основі ми можемо генерувати [[Stack trace]] помилок:

```js
java.lang.Exception: Stack trace
	at java.lang.Thread.dumpStack(Thread.java:1336)
	at Main.demo3(Main.java:15)
	at Main.demo2(Main.java:12)
	at Main.demo1(Main.java:9)
	at Main.demo(Main.java:6)
	at Main.main(Main.java:3)
```

Якщо в call stack немає елементів, це означає, що програма виконана та ми можемо робити якісь інші речі. Наприклад, по такому принципу працює [[Computer science/Languages and technologies/JavaScript Runtime Environment/Event loop]]

### Переповнення стека викликів

Розглянемо код:

```c
int foo(int a) {
	return foo(a)
}
```

Що буде відбуватись зі стеком викликів в цьому випадку?

| Run  | call foo | call foo | call foo | call foo... |
| ---- | -------- | -------- | -------- | ----------- |
|      |          |          |          | ...         |
|      |          |          | foo      | foo         |
|      |          | foo      | foo      | foo         |
|      | foo      | foo      | foo      | foo         |
| main | main     | main     | main     | main        |

Цей код буде [[Рекурсія|рекурсивно]] викликати сам себе нескінчену кількість разів! В результаті це призведе до того, що в якийсь момент стек переповниться

В цьому випадку різні мови програмування видають різні помилки

Наприклад, в JavaScript буде помилка `Maximum call stack size exceeded`

