Річ у тому, що [[Компоненти в React повинні бути чистими функціями]]

Це означає, що ми не можемо виконати [[Side effect]] прямо всередині render-функції, оскільки в такому випадку компонент більше не буде [[Чиста функція|Чистою функцією]] і це призведе до великих проблем з ререндерами компонентів, а також [[React StrictMode]] (детальніше - [[Компоненти в React повинні бути чистими функціями]])

Стандартним механізмом роботи з [[Side effect]] є [[Event handler]], який спрацьовує коли з'явиться деякий [[Event]], та вже всередині нього виконуються Side effect

Наприклад, у нас є якась кнопка і при натисканні на неї спрацьовує Event handler який змінює стан, або ж відправляє запит кудись, тобто виконує Side effect

Але, іноді нам треба щоб зробити Side effect без події

Наприклад, у нас є деякий чат який працює по websocket

1. Коли чат відкривається нам потрібно відкрити з'єднання
2. Коли користувач щось відправляє нам потрібно це передати на сервер
3. Коли чат закривається - нам потрібно закрити це саме з'єднання

За допомогою подій ми можемо зробити тільки пункт 2 - оскільки тільки в ньому є деякі події

Щоб виконати 1 та 3 нам треба якийсь механізм виклику [[Side effect]], в цьому випадку з'єднання з сервером, коли компонент рендериться перший раз. А також механізм викликати ще один Side effect, на від'єднання, коли користувач захоче закрити чат, або ж вкладку, або ж браузер... Тобто коли компонент буде пропадати зі сторінки

Саме цю задачу вирішують [[Effect в react]]

---
## References

https://react.dev/learn/synchronizing-with-effects#what-are-effects-and-how-are-they-different-from-events
