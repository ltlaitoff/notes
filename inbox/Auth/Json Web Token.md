---
aliases:
  - JWT
---
**Json Web Token**, або **JWT** - це відкритий стандарт([RFC 7591](https://datatracker.ietf.org/doc/html/rfc7519)) який визначає компактний та самодостатній шлях для безпечної передачі інформації між сторонами в JSON форматі

**JWT** читаються як `джот` ;0 

Ми можемо довіряти інформації, яка зберігається у **JWT**, а також ми можемо її перевіряти, оскільки кожен токен має [[Digital signature|Цифровий підпис]]

**JWT** токени можуть бути підписані або за допомогою секретного ключа, з [[HMAC]] алгоритмом, або, як зазвичай роблять, використовуючи [[Public/private key pair]] з [[RSA]] або [[ECDSA]]

**JWT** фокусуються саме на підписаних токенах. Звичайно ми можемо їх закодувати та передавати кудись, але для цього краще використовувати щось інше

Якщо **JWT** токен був підписаний використовуючи [[Public/private key pair]], то ми можемо бути точно впевнені, що тільки той, хто зберігає **private** ключ підписав цей токен. А перевірити ми це можемо тільки використовуючи **public**

**Private** - це ключ який потрібно дуже гарно зберігати, оскільки інакше від вашого імені можна буде випускати токени
**Public** - можна буквально(наприклад, [public ключі github](https://github.com/xanf.keys)) зберігати в public. Хоч на заборі його написати. Він потрібен тільки для перевірки підпису. 

>[!danger] JWT не підходять для конфіденційної інформації
> Щоб прочитати інформацію у **JWT** нам навіть не потрібно мати ключі
> 
> Тому JWT зовсім не підходить для секретної інформації!

Зазвичай JWT використовують для авторизації - [[Auth через JWT]]

## Структура JWT

JWT токен являє собою строку, яка складається з трьох елементів розділених точками

- `Header`
- `Payload`
- `Signature`

Звичайний JWT токен виглядає ось так:

```
xxxxx.yyyyy.zzzzz
```

### Header

Header токена зазвичай складається з типу токена, тобто "JWT", та алгоритму, яким він був підписаний

Наприклад:

```json
{
  "alg": "HS256",
  "typ": "JWT"
}
```

### Payload



### Signature



- `Header` - Це заголовки токена. Наприклад, інформація про expired, алгоритм шифрування, хто випустив токен тощо
- `Payload` - Це контент токена. Ми можемо сюди написати що завгодно
- `Signature` - Криптографічний підпис, який залежить від заголовка та даних





### Public та private ключі

Для створення JWT використовується [[Асинхронна криптографія]]

Тобто насправді у нас не один ключ, а цілих два!

Ці ключі є парою

Якщо ми зашифрували щось використовуючи ключ `A`, то розшифрувати ми можемо цю інформацію тільки використовуючи ключ `B`

І також це працює у зворотному напрямку. Якщо ми щось зашифрували використовуючи ключ `B`, то нам треба ключ `A`, щоб це розшифрувати

Зазвичай такі ключі називають `private` та `public`, при цьому не важливо який саме який

Private ключ потрібно зберігати як зіницю ока, це ключ використовуючи який ми створюємо JWT токени!

А public ключ ми можемо роздати кому завгодно, буквально(наприклад, [public ключі github](https://github.com/xanf.keys)), або ж навіть намалювати його на заборі. Цей ключ використовується тільки для читання та перевірки даних

Тобто, перевіряючи JWT токен public ключем ми можемо бути впевненими, що він створений його парним private ключем

---
## Reference

"Introduction to JSON Web Tokens" з jwt.io: https://jwt.io/introduction

"Сесії проти JWT #1: Що обрати?" від [[JavaScript Січ]]: https://youtu.be/Zk9drnLo590?t=1074
